#include "[CLASS].h"
#include "DiReturnEnum.h"
#include "[TEMPLATE].h"

[CLASS]::[CLASS]() : [DICLASS]<[TEMPLATE]>()
{
}

[CLASS]::~[CLASS]()
{
}

int [CLASS]::Execute([TEMPLATE]* a_pkObject)
{
	DIDEBUGGER_SEND(this);

	//run all the taskst in the sequence
	int eReturn = DiLib::DI_TASK_RETURNS::DITASK_COMPLETE;

	m_itrCurrentTask = m_akTaskSequence.begin();

	DiTask<T>* pkTask = NULL;
	for (; m_itrCurrentTask != m_akTaskSequence.end(); ++m_itrCurrentTask)
	{
		pkTask = *m_itrCurrentTask;
		if (pkTask != NULL)
		{
			eReturn = pkTask->Execute(a_pkOwner); //run the task
			if (eReturn == DiLib::DI_TASK_RETURNS::DITASK_FAILED)
			{
				return DiLib::DI_TASK_RETURNS::DITASK_FAILED;
			}
		}
	}

	return DiLib::DI_TASK_RETURNS::DITASK_COMPLETE;
}
